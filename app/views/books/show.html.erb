
<div class="container">
  <div class = "row d-flex flex.column justify-content-center">
    <div class= "col-10 d-flex">
      <% if @book.image.attached? %>
        <%= image_tag url_for(@book.image), { height: "400"} %>
      <% else %>
        <%= image_tag "default_cover.png", {height: "400"} %>
      <% end %>
      <div class="d-flex flex-column px-4">
        <strong>Title: </strong><%= @book.title%>
        <strong>Author: </strong><%= @book.author%>
        <strong>Description: </strong><%= @book.description%>
        <strong>Price: </strong>$<%= @book.price%>
        <strong>Seller name: </strong><%= link_to @seller.name, user_books_url(@seller.id)%>
        <% if signed_in? && current_user.buyer? %>
            <%=button_to 'Add to Cart', add_to_cart_path(@book), { method: :put,
                                       class: 'btn btn-primary' } %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script>
  // const cartActionBtn = document.getElementById("cart-action-btn")
  // cartActionBtn.addEventListener('click', (e) => {
  //   let newTarget, url;
  //   e.preventDefault();
  //   if (this.data("target") === "Add to") {
  //     url = this.data("addUrl")
  //     newTarget = "Remove from"
  //   } else {
  //     url = this.data("removeUrl")
  //     newTarget = "Add to";
  //   }
  //   this.find('span').html(newTarget)
  //   this.data('target', newTarget)
  // })
</script>